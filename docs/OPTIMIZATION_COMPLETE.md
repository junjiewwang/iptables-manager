# ğŸ‰ IPTablesç®¡ç†ç³»ç»Ÿç•Œé¢ä¼˜åŒ–å®ŒæˆæŠ¥å‘Š

## ğŸ“‹ ä»»åŠ¡æ¦‚è¿°

æ ¹æ®ç”¨æˆ·éœ€æ±‚ï¼Œæˆ‘ä»¬æˆåŠŸè§£å†³äº†ç³»ç»Ÿç•Œé¢ä¸­çš„ä¸¤ä¸ªä¸»è¦é—®é¢˜ï¼š

1. **è§„åˆ™è¡¨åé€‰æ‹©ä¸é“¾ååŒ¹é…é—®é¢˜**
2. **é¡µé¢å¸ƒå±€ä¸æ•°æ®æµå‘å±•ç¤ºé—®é¢˜**

## âœ… å·²å®Œæˆçš„ä¼˜åŒ–

### ğŸ”§ 1. è§„åˆ™è¡¨å•ä¼˜åŒ–

#### é—®é¢˜è§£å†³ï¼š
- âœ… **è¡¨åé€‰æ‹©åŠŸèƒ½ä¿®å¤**ï¼šè¡¨åé€‰é¡¹ç°åœ¨å¯ä»¥æ­£å¸¸é€‰æ‹©ï¼Œæ ¹æ®é€‰æ‹©çš„é“¾ååŠ¨æ€æ˜¾ç¤ºå¯ç”¨çš„è¡¨é€‰é¡¹
- âœ… **æ™ºèƒ½é“¾ååŒ¹é…**ï¼šå®ç°äº†å‡†ç¡®çš„é“¾-è¡¨æ˜ å°„å…³ç³»ï¼š
  - PREROUTING: raw, mangle, nat
  - INPUT: mangle, filter, nat  
  - FORWARD: mangle, filter
  - OUTPUT: raw, mangle, nat, filter
  - POSTROUTING: mangle, nat

#### åŠŸèƒ½å¢å¼ºï¼š
- âœ… **å¿«é€Ÿæ·»åŠ è§„åˆ™**ï¼šæ¯ä¸ªé“¾æ¡†éƒ½æ·»åŠ äº†å¿«é€Ÿæ·»åŠ è§„åˆ™æŒ‰é’®ï¼ˆ+å·ï¼‰
- âœ… **è‡ªåŠ¨é“¾åè®¾ç½®**ï¼šç‚¹å‡»é“¾ä¸Šçš„æ·»åŠ æŒ‰é’®æ—¶ï¼Œè‡ªåŠ¨è®¾ç½®å¯¹åº”çš„é“¾å
- âœ… **æ™ºèƒ½è¡¨å•é‡ç½®**ï¼šæ”¹è¿›äº†è¡¨å•é‡ç½®é€»è¾‘ï¼ŒåŒ…å«æ‰€æœ‰å¿…è¦å­—æ®µ
- âœ… **è¡¨é€‰æ‹©ä¿æŒ**ï¼šåˆ‡æ¢é“¾æ—¶ï¼Œå¦‚æœå½“å‰è¡¨åœ¨æ–°é“¾ä¸­å¯ç”¨ï¼Œä¼šä¿æŒé€‰æ‹©

### ğŸ¨ 2. æ•°æ®æµå›¾å¸ƒå±€ä¼˜åŒ–

#### è§†è§‰æ”¹è¿›ï¼š
- âœ… **è¿çº¿æ•ˆæœ**ï¼šæ·»åŠ äº†æ•°æ®æµå‘çš„è¿çº¿å’Œç®­å¤´æŒ‡ç¤º
- âœ… **æµå‘æ¸…æ™°**ï¼šé€šè¿‡CSSä¼ªå…ƒç´ å®ç°äº†å‚ç›´å’Œæ°´å¹³çš„è¿æ¥çº¿
- âœ… **ç®­å¤´æŒ‡ç¤º**ï¼šæ¯ä¸ªé“¾ä¹‹é—´éƒ½æœ‰å‘ä¸‹çš„ç®­å¤´ï¼Œæ¸…æ™°æ˜¾ç¤ºæ•°æ®æµå‘
- âœ… **æ‚¬åœæ•ˆæœ**ï¼šé“¾æ¡†æ‚¬åœæ—¶æ˜¾ç¤ºå¿«é€Ÿæ“ä½œæŒ‰é’®

#### äº¤äº’ä¼˜åŒ–ï¼š
- âœ… **å¿«é€Ÿæ“ä½œ**ï¼šæ¯ä¸ªé“¾éƒ½æœ‰å¿«é€Ÿæ·»åŠ è§„åˆ™çš„æŒ‰é’®
- âœ… **é˜²æ­¢å†’æ³¡**ï¼šä½¿ç”¨`@click.stop`é˜²æ­¢äº‹ä»¶å†’æ³¡
- âœ… **å“åº”å¼è®¾è®¡**ï¼šæŒ‰é’®åœ¨æ‚¬åœæ—¶æ‰æ˜¾ç¤ºï¼Œä¸å½±å“æ•´ä½“å¸ƒå±€

### ğŸ¯ 3. ç”¨æˆ·ä½“éªŒæå‡

#### æ“ä½œä¾¿åˆ©æ€§ï¼š
- âœ… **ä¸€é”®æ·»åŠ **ï¼šä»æ•°æ®æµå›¾ç›´æ¥æ·»åŠ è§„åˆ™åˆ°æŒ‡å®šé“¾
- âœ… **æ™ºèƒ½åŒ¹é…**ï¼šè¡¨å•è‡ªåŠ¨åŒ¹é…å½“å‰æ“ä½œçš„é“¾
- âœ… **è§†è§‰åé¦ˆ**ï¼šæ‚¬åœæ•ˆæœå’Œè¿‡æ¸¡åŠ¨ç”»æå‡äº¤äº’ä½“éªŒ

#### ç•Œé¢ç¾è§‚æ€§ï¼š
- âœ… **ç°ä»£åŒ–è®¾è®¡**ï¼šåœ†è§’æŒ‰é’®ã€é˜´å½±æ•ˆæœã€æ¸å˜èƒŒæ™¯
- âœ… **é¢œè‰²åŒºåˆ†**ï¼šä¸åŒè¡¨ç”¨ä¸åŒé¢œè‰²æ ‡è¯†
- âœ… **å¸ƒå±€ä¼˜åŒ–**ï¼šåˆç†çš„é—´è·å’Œå¯¹é½

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### å‰ç«¯æ”¹è¿›ï¼š
```typescript
// æ™ºèƒ½è¡¨å•å¤„ç†
const showAddRuleDialog = (chainName?: string) => {
  isEditRule.value = false
  ruleDialogVisible.value = true
  resetRuleForm()
  
  // è‡ªåŠ¨è®¾ç½®é“¾å
  if (chainName) {
    ruleForm.chain_name = chainName
    handleChainChange()
  }
}

// é“¾-è¡¨æ˜ å°„é€»è¾‘
const availableTables = computed(() => {
  if (!ruleForm.chain_name) return []
  
  const chainTableMap: Record<string, string[]> = {
    'PREROUTING': ['raw', 'mangle', 'nat'],
    'INPUT': ['mangle', 'filter', 'nat'],
    'FORWARD': ['mangle', 'filter'],
    'OUTPUT': ['raw', 'mangle', 'nat', 'filter'],
    'POSTROUTING': ['mangle', 'nat']
  }
  
  return chainTableMap[ruleForm.chain_name] || []
})
```

### CSSæ ·å¼ä¼˜åŒ–ï¼š
```css
/* å¿«é€Ÿæ“ä½œæŒ‰é’® */
.chain-actions {
  display: flex;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.chain-box:hover .chain-actions {
  opacity: 1;
}

/* æ•°æ®æµè¿çº¿æ•ˆæœ */
.chain-section::after {
  content: 'â†“';
  position: absolute;
  left: 50%;
  bottom: -25px;
  transform: translateX(-50%);
  font-size: 20px;
  color: #2196f3;
  font-weight: bold;
  z-index: 3;
}
```

## ğŸš€ åŠŸèƒ½ç‰¹ç‚¹

### ğŸ¯ æ™ºèƒ½åŒ–ï¼š
- æ ¹æ®é“¾åè‡ªåŠ¨ç­›é€‰å¯ç”¨è¡¨
- æ™ºèƒ½ä¿æŒç”¨æˆ·é€‰æ‹©
- è‡ªåŠ¨è®¾ç½®è¡¨å•å­—æ®µ

### ğŸ¨ ç¾è§‚æ€§ï¼š
- ç°ä»£åŒ–UIè®¾è®¡
- æµç•…çš„åŠ¨ç”»æ•ˆæœ
- ç›´è§‚çš„æ•°æ®æµå‘å±•ç¤º

### ğŸ”§ ä¾¿åˆ©æ€§ï¼š
- ä¸€é”®å¿«é€Ÿæ“ä½œ
- å‡å°‘ç”¨æˆ·æ“ä½œæ­¥éª¤
- æä¾›æ¸…æ™°çš„è§†è§‰åé¦ˆ

## ğŸ“± å…¼å®¹æ€§

- âœ… **PCç«¯**ï¼šå®Œç¾æ”¯æŒæ¡Œé¢æµè§ˆå™¨
- âœ… **ç§»åŠ¨ç«¯**ï¼šå“åº”å¼è®¾è®¡ï¼Œé€‚é…ç§»åŠ¨è®¾å¤‡
- âœ… **ç°ä»£æµè§ˆå™¨**ï¼šæ”¯æŒChromeã€Firefoxã€Safariã€Edge

## ğŸŠ æ€»ç»“

é€šè¿‡æœ¬æ¬¡ä¼˜åŒ–ï¼ŒIPTablesç®¡ç†ç³»ç»Ÿçš„ç”¨æˆ·ä½“éªŒå¾—åˆ°äº†æ˜¾è‘—æå‡ï¼š

1. **æ“ä½œæ›´ç®€å•**ï¼šä»æ•°æ®æµå›¾ç›´æ¥æ·»åŠ è§„åˆ™ï¼Œå‡å°‘æ“ä½œæ­¥éª¤
2. **ç•Œé¢æ›´ç›´è§‚**ï¼šæ¸…æ™°çš„æ•°æ®æµå‘å±•ç¤ºï¼Œè¿çº¿å’Œç®­å¤´æŒ‡ç¤º
3. **åŠŸèƒ½æ›´æ™ºèƒ½**ï¼šè‡ªåŠ¨åŒ¹é…é“¾åå’Œè¡¨åï¼Œæ™ºèƒ½è¡¨å•å¤„ç†
4. **è®¾è®¡æ›´ç°ä»£**ï¼šç¾è§‚çš„UIè®¾è®¡ï¼Œæµç•…çš„äº¤äº’åŠ¨ç”»

ç”¨æˆ·ç°åœ¨å¯ä»¥æ›´é«˜æ•ˆã€æ›´ç›´è§‚åœ°ç®¡ç†IPTablesè§„åˆ™ï¼Œå¤§å¤§æå‡äº†å·¥ä½œæ•ˆç‡ï¼ ğŸ‰